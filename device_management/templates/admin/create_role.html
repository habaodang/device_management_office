{% extends "admin/base_admin.html" %}
{% block css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin/create_role.css') }}">
  {% endblock %}
    {% block content %}

 <section id="manageRoles" class="section">
            <h2>Quản Lý Role</h2>
            <div class="create-role">
                <form action="{{ url_for('admin_route.admin_add_role') }}" method="post">
                <h3>Tạo Role Mới</h3>
                <input type="text" placeholder="Tên role mới" name="rolename">
                    {% for permission in permissions %}
                <div class="permissions">
                    <label><input name="permission" type="checkbox" value="{{ permission.stt }}"> {{ permission.name }}</label>

                </div>
                    {% endfor %}
                <button type="submit">Tạo Role</button>
                    </form>
            </div>

            <div class="role-list">
                <h3>Danh sách Role</h3>
                  {% with messages = get_flashed_messages(with_categories=true) %}
                        {% if messages %}
                        {% for category, message in messages %}
                        <div class="error-message">{{ message }}</div>

                        {% endfor %}
                        {% endif %}
                        {% endwith %}
                {% for role in roles %}
                <ul>
                    <li>{{ role.name }} <a href="{{ url_for('admin_route.delete_role', stt = role.stt  ) }} "> <button>Xóa</button></a></li>
                </ul>
                {% endfor %}
            </div>
        </section>

    {% endblock %}